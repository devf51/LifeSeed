(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{880:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});var a=s(25959),i=s(89863);let l={pending:"in-progress","in-progress":"completed",completed:"pending"},n=(0,a.v)()((0,i.Zr)(e=>({tasks:[],goals:[],monthlyGoals:[],addTask:t=>e(e=>({tasks:[...e.tasks,{...t,id:crypto.randomUUID(),createdAt:new Date().toISOString()}]})),updateTask:(t,s)=>e(e=>({tasks:e.tasks.map(e=>e.id===t?{...e,...s}:e)})),deleteTask:t=>e(e=>({tasks:e.tasks.filter(e=>e.id!==t)})),cycleStatus:t=>e(e=>({tasks:e.tasks.map(e=>e.id===t?{...e,status:l[e.status]}:e)})),addGoal:t=>e(e=>({goals:[...e.goals,{...t,id:crypto.randomUUID()}]})),updateGoal:(t,s)=>e(e=>({goals:e.goals.map(e=>e.id===t?{...e,...s}:e)})),deleteGoal:t=>e(e=>({goals:e.goals.filter(e=>e.id!==t)})),addMonthlyGoal:t=>e(e=>({monthlyGoals:[...e.monthlyGoals,{...t,id:crypto.randomUUID()}]})),updateMonthlyGoal:(t,s)=>e(e=>({monthlyGoals:e.monthlyGoals.map(e=>e.id===t?{...e,...s}:e)})),deleteMonthlyGoal:t=>e(e=>({monthlyGoals:e.monthlyGoals.filter(e=>e.id!==t)}))}),{name:"lifeseed-tasks"}))},1524:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7013:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},8198:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},27345:(e,t,s)=>{"use strict";s.d(t,{X:()=>l});var a=s(25959),i=s(89863);let l=(0,a.v)()((0,i.Zr)((e,t)=>({habits:[],logs:[],addHabit:t=>e(e=>({habits:[...e.habits,{...t,id:crypto.randomUUID(),createdAt:new Date().toISOString()}]})),updateHabit:(t,s)=>e(e=>({habits:e.habits.map(e=>e.id===t?{...e,...s}:e)})),deleteHabit:t=>e(e=>({habits:e.habits.filter(e=>e.id!==t),logs:e.logs.filter(e=>e.habitId!==t)})),toggleLog:(t,s)=>e(e=>{let a=e.logs.find(e=>e.habitId===t&&e.date===s);return a?{logs:e.logs.filter(e=>e.id!==a.id)}:{logs:[...e.logs,{id:crypto.randomUUID(),habitId:t,date:s,status:"done"}]}}),getStreak:e=>{let s=t().logs.filter(t=>t.habitId===e&&"done"===t.status).map(e=>e.date).sort().reverse();if(0===s.length)return 0;let a=0,i=new Date,l=new Date(i.getFullYear(),i.getMonth(),i.getDate());for(let e=0;e<365;e++){let t=new Date(l);t.setDate(t.getDate()-e);let i=t.toISOString().split("T")[0];if(s.includes(i))a++;else if(e>0)break}return a},getWeeklyProgress:(e,s)=>{let a=new Date(s),i=[];for(let e=0;e<7;e++){let t=new Date(a);t.setDate(t.getDate()+e),i.push(t.toISOString().split("T")[0])}return t().logs.filter(t=>t.habitId===e&&"done"===t.status&&i.includes(t.date)).length}}),{name:"lifeseed-habits"}))},31109:(e,t,s)=>{Promise.resolve().then(s.bind(s,76311))},35958:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]])},38104:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]])},67840:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]])},75882:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},76311:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(95155),i=s(27345),l=s(880),n=s(81629),d=s(35958),c=s(38104),r=s(8198),o=s(80298),h=s(75882);let m=(0,s(71847).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var p=s(1524),g=s(7013),u=s(67840),x=s(12115);function y(){let[e,t]=(0,x.useState)(!1),s=(0,i.X)(e=>e.habits),y=(0,i.X)(e=>e.logs),k=(0,i.X)(e=>e.getStreak),N=(0,l.O)(e=>e.tasks),f=(0,n.b)(e=>e.transactions),b=(0,n.b)(e=>e.getBalance);if((0,x.useEffect)(()=>{t(!0)},[]),!e)return(0,a.jsx)(v,{});let w=new Date().toISOString().split("T")[0],A=y.filter(e=>e.date===w&&"done"===e.status),D=N.filter(e=>"completed"!==e.status),M=N.filter(e=>"completed"===e.status&&e.dueDate===w),S=b(),I=f.filter(e=>"income"===e.type).reduce((e,t)=>e+t.amount,0);f.filter(e=>"expense"===e.type).reduce((e,t)=>e+t.amount,0);let U=s.reduce((e,t)=>{let s=k(t.id);return s>e?s:e},0);return(0,a.jsxs)("div",{className:"dashboard-page",children:[(0,a.jsxs)("header",{className:"page-header",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"page-title",children:[(0,a.jsx)(d.A,{size:32,className:"page-title-icon"}),"Dashboard"]}),(0,a.jsx)("p",{className:"page-subtitle",children:"ยินดีต้อนรับกลับ — มาเริ่มต้นวันใหม่กันเถอะ"})]}),(0,a.jsx)("div",{className:"header-date-badge",children:new Date().toLocaleDateString("th-TH",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsxs)("div",{className:"stats-grid",children:[(0,a.jsx)(j,{icon:(0,a.jsx)(c.A,{size:24}),label:"นิสัยวันนี้",value:"".concat(A.length," / ").concat(s.length),trend:"".concat(s.length>0?Math.round(A.length/s.length*100):0,"% สำเร็จ"),trendUp:A.length>=s.length/2,color:"emerald"}),(0,a.jsx)(j,{icon:(0,a.jsx)(r.A,{size:24}),label:"Streak สูงสุด",value:"".concat(U," วัน"),trend:"ต่อเนื่อง",trendUp:U>0,color:"amber"}),(0,a.jsx)(j,{icon:(0,a.jsx)(o.A,{size:24}),label:"งานค้าง",value:"".concat(D.length," รายการ"),trend:"ทำเสร็จวันนี้ ".concat(M.length),trendUp:M.length>0,color:"blue"}),(0,a.jsx)(j,{icon:(0,a.jsx)(h.A,{size:24}),label:"ยอดคงเหลือ",value:"฿".concat(S.toLocaleString()),trend:"รายได้ ฿".concat(I.toLocaleString()),trendUp:S>=0,color:"purple"})]}),(0,a.jsxs)("div",{className:"widgets-grid",children:[(0,a.jsxs)("div",{className:"glass-card widget-card",children:[(0,a.jsxs)("div",{className:"widget-header",children:[(0,a.jsxs)("h3",{children:[(0,a.jsx)(c.A,{size:18})," นิสัยประจำวัน"]}),(0,a.jsx)("a",{href:"/habits",className:"widget-link",children:"ดูทั้งหมด →"})]}),(0,a.jsx)("div",{className:"widget-body",children:0===s.length?(0,a.jsxs)("p",{className:"empty-state",children:["ยังไม่มีนิสัย — ",(0,a.jsx)("a",{href:"/habits",children:"เพิ่มนิสัยแรก"})]}):s.slice(0,5).map(e=>{let t=y.some(t=>t.habitId===e.id&&t.date===w&&"done"===t.status),s=k(e.id);return(0,a.jsxs)("div",{className:"habit-quick-item ".concat(t?"done":""),children:[(0,a.jsxs)("div",{className:"habit-quick-left",children:[(0,a.jsx)("div",{className:"habit-check ".concat(t?"checked":""),children:t&&"✓"}),(0,a.jsx)("span",{children:e.name})]}),s>0&&(0,a.jsxs)("span",{className:"streak-badge",children:[(0,a.jsx)(r.A,{size:12})," ",s]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"glass-card widget-card",children:[(0,a.jsxs)("div",{className:"widget-header",children:[(0,a.jsxs)("h3",{children:[(0,a.jsx)(m,{size:18})," งานที่ต้องทำ"]}),(0,a.jsx)("a",{href:"/planner",className:"widget-link",children:"ดูทั้งหมด →"})]}),(0,a.jsx)("div",{className:"widget-body",children:0===D.length?(0,a.jsx)("p",{className:"empty-state",children:"ไม่มีงานค้าง \uD83C\uDF89"}):D.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"task-quick-item",children:[(0,a.jsxs)("div",{className:"task-quick-left",children:[(0,a.jsx)("span",{className:"priority-dot ".concat(e.priority)}),(0,a.jsx)("span",{children:e.title})]}),(0,a.jsx)("span",{className:"status-badge ".concat(e.status),children:"pending"===e.status?"รอดำเนินการ":"in-progress"===e.status?"กำลังทำ":"เสร็จสิ้น"})]},e.id))})]}),(0,a.jsxs)("div",{className:"glass-card widget-card",children:[(0,a.jsxs)("div",{className:"widget-header",children:[(0,a.jsxs)("h3",{children:[(0,a.jsx)(p.A,{size:18})," การเงินล่าสุด"]}),(0,a.jsx)("a",{href:"/finance",className:"widget-link",children:"ดูทั้งหมด →"})]}),(0,a.jsx)("div",{className:"widget-body",children:0===f.length?(0,a.jsxs)("p",{className:"empty-state",children:["ยังไม่มีรายการ — ",(0,a.jsx)("a",{href:"/finance",children:"เพิ่มรายการแรก"})]}):f.slice(-5).reverse().map(e=>(0,a.jsxs)("div",{className:"txn-quick-item",children:[(0,a.jsxs)("div",{className:"txn-quick-left",children:["income"===e.type?(0,a.jsx)(g.A,{size:16,className:"income-icon"}):(0,a.jsx)(u.A,{size:16,className:"expense-icon"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"txn-note",children:e.note||e.category}),(0,a.jsx)("span",{className:"txn-date",children:e.date})]})]}),(0,a.jsxs)("span",{className:"txn-amount ".concat(e.type),children:["income"===e.type?"+":"-","฿",e.amount.toLocaleString()]})]},e.id))})]})]})]})}function j(e){let{icon:t,label:s,value:i,trend:l,trendUp:n,color:d}=e;return(0,a.jsxs)("div",{className:"glass-card stat-card-dash ".concat(d),children:[(0,a.jsx)("div",{className:"stat-icon-wrap ".concat(d),children:t}),(0,a.jsx)("div",{className:"stat-value-dash",children:i}),(0,a.jsx)("div",{className:"stat-label-dash",children:s}),(0,a.jsxs)("div",{className:"stat-trend-dash ".concat(n?"up":"down"),children:[n?(0,a.jsx)(g.A,{size:14}):(0,a.jsx)(u.A,{size:14}),l]})]})}function v(){return(0,a.jsxs)("div",{className:"dashboard-page",children:[(0,a.jsx)("header",{className:"page-header",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"skeleton-line",style:{width:200,height:32}}),(0,a.jsx)("div",{className:"skeleton-line",style:{width:300,height:18,marginTop:8}})]})}),(0,a.jsx)("div",{className:"stats-grid",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"glass-card stat-card-dash skeleton-card"},e))})]})}},80298:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]])},81629:(e,t,s)=>{"use strict";s.d(t,{b:()=>l});var a=s(25959),i=s(89863);let l=(0,a.v)()((0,i.Zr)((e,t)=>({transactions:[],investments:[],addTransaction:t=>e(e=>({transactions:[...e.transactions,{...t,id:crypto.randomUUID(),createdAt:new Date().toISOString()}]})),updateTransaction:(t,s)=>e(e=>({transactions:e.transactions.map(e=>e.id===t?{...e,...s}:e)})),deleteTransaction:t=>e(e=>({transactions:e.transactions.filter(e=>e.id!==t)})),addInvestment:t=>e(e=>({investments:[...e.investments,{...t,id:crypto.randomUUID()}]})),updateInvestment:(t,s)=>e(e=>({investments:e.investments.map(e=>e.id===t?{...e,...s}:e)})),deleteInvestment:t=>e(e=>({investments:e.investments.filter(e=>e.id!==t)})),getBalance:()=>t().transactions.reduce((e,t)=>"income"===t.type?e+t.amount:"expense"===t.type||"invest"===t.type?e-t.amount:e,0),getMonthlyData:e=>["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."].map((s,a)=>{let i=t().transactions.filter(t=>{let s=new Date(t.date);return s.getFullYear()===e&&s.getMonth()===a});return{month:s,income:i.filter(e=>"income"===e.type).reduce((e,t)=>e+t.amount,0),expense:i.filter(e=>"expense"===e.type).reduce((e,t)=>e+t.amount,0)}})}),{name:"lifeseed-finance"}))}},e=>{e.O(0,[315,441,255,358],()=>e(e.s=31109)),_N_E=e.O()}]);